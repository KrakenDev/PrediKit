<!DOCTYPE html>
<html lang="en">
  <head>
    <title>PrediKit  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="PrediKit  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">PrediKit Docs</a> (85% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">PrediKit Reference</a>
        <img id="carat" src="img/carat.png" />
        PrediKit  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes.html#/s:C8PrediKit23FinalizedPredicateQuery">FinalizedPredicateQuery</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PredicateBooleanQuery.html">PredicateBooleanQuery</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PredicateBuilder.html">PredicateBuilder</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PredicateDateQuery.html">PredicateDateQuery</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PredicateNumberQuery.html">PredicateNumberQuery</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PredicateQueryBuilder.html">PredicateQueryBuilder</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PredicateSequenceQuery.html">PredicateSequenceQuery</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PredicateStringQuery.html">PredicateStringQuery</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes.html#/s:C8PrediKit24PredicateSubqueryBuilder">PredicateSubqueryBuilder</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/SubqueryMatch.html">SubqueryMatch</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/NSObject.html">NSObject</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/NSPredicate.html">NSPredicate</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Functions/!(_:).html">!(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions/&amp;&amp;(_:_:).html">&amp;&amp;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF8PrediKitoi2aaFTCSo11NSPredicateS0__S0_">&amp;&amp;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions/||(_:_:).html">||(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF8PrediKitoi2ooFTCSo11NSPredicateS0__S0_">||(_:_:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/Reflectable.html">Reflectable</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/PredicateOptions.html">PredicateOptions</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <p><img src="https://github.com/TheKrakenDev/PrediKit/wiki/Sources/Banner.jpg" alt="">
<a href="https://travis-ci.org/TheKrakenDev/PrediKit"><img src="https://travis-ci.org/TheKrakenDev/PrediKit.svg?branch=master" alt=""></a>
<a href="https://developer.apple.com/swift"><img src="https://img.shields.io/badge/swift2-compatible-4BC51D.svg?style=flat" alt=""></a>
<a href="https://cocoapods.org/pods/PrediKit"><img src="https://img.shields.io/badge/pod-1.0.0-blue.svg" alt=""></a>
<a href="https://github.com/Carthage/Carthage"><img src="https://img.shields.io/badge/Carthage-compatible-4BC51D.svg?style=flat" alt=""></a>
<a href="https://raw.githubusercontent.com/TheKrakenDev/PrediKit/master/LICENSE"><img src="http://img.shields.io/badge/license-MIT-blue.svg?style=flat" alt=""></a></p>
<a href='#predikit' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='predikit'>PREDIKIT</h1>

<p>A Swift <code>NSPredicate</code> DSL for iOS &amp; OS X inspired by <a href="https://github.com/SnapKit/SnapKit">SnapKit</a>, lovingly written in Swift, and created by that weird dude at <a href="https://krakendev.io">KrakenDev</a>.</p>

<p>If you&rsquo;re familiar with the intuitive feel of the <a href="https://github.com/SnapKit/SnapKit">SnapKit</a> API, then you&rsquo;ll feel right at home with PrediKit! ðŸ’–</p>
<a href='#documentation' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='documentation'>Documentation</h1>

<p>Documentation is generated by <a href="https://github.com/realm/jazzy">Jazzy</a> and can be found <a href="https://cdn.rawgit.com/TheKrakenDev/PrediKit/master/docs/docsets/PrediKit.docset/Contents/Resources/Documents/index.html">here for your convenience</a>!</p>
<a href='#why_create_predikit' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='why_create_predikit'>Why create PrediKit?</h1>

<p>Because I wanted to! Also, because <code>NSPredicate</code> creation is hard. When working with <code>CoreData</code> you use <code>NSPredicates</code> to fetch persisted objects. <code>CoreData</code> is hard enough, so why have the additional complexity of using a complex string-based predicate system?</p>

<p>The language you need to use to create predicate formats are completely string-based which can lead to a host of issues:
* We have a tendency to misspell words and with the current system, you can build and run without ever knowing you misspelled a property name&hellip;until it&rsquo;s too late.
* For many an iOS/OSX developer (myself included), they may be very unfamiliar with the <code>SQL</code>-like language that comes with the creation of predicate formats. In fact, an entire <a href="https://realm.io/news/nspredicate-cheatsheet/">cheatsheet</a> by the awesome guys at <a href="https://realm.io/">Realm</a> was created because of this!
* With complex predicate creation, it&rsquo;s easy to get string-blindness. Go ahead&hellip;try creating a complex predicate and reading it after a couple of hours. I dare you. ðŸ˜Ž
* If you misspell a property key name in a predicate format string but the string is parseable by the <code>NSPredicate</code> system, then nothing happens. It just fails silently. At least, I think it does. I&rsquo;m currently writing this on 2 hours of sleep. Don&rsquo;t quote me on that.</p>
<a href='#what_does_it_fix' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='what_does_it_fix'>What does it fix?</h1>

<p>Well, hopefully it fixes all of the above and more. Currently, it:
* Gives the developer a closure based way to create NSPredicates.
* It also, through the magic of Xcode, gives you a way to autocomplete your queries. No more referencing a cheatsheet. Just hit the dot button and enjoy the autocomplete.
* I also carefully constructed the API to read as much like a book as possible. Matching strings even have a redundant API just to be grammatically correct when specifying if a string <code>matches</code> or <code>doesNot.match</code> another value.
* Through a little runtime-magic/reflection, PrediKit will crash at runtime if you misspell a property key or supply a property key that does not exist in a specific class&rsquo; property list.
* All predicate <code>builder</code> closures do not need capture semantics as each closure is a <code>@noescape</code> closure. <a href="http://krakendev.io/blog/hipster-swift#noescape">Read here is you don&rsquo;t know what that means</a> ðŸ¤“.</p>
<a href='#installation' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='installation'>Installation</h1>

<p>PrediKit can be included in your project through any of these methods:</p>
<a href='#cocoapods' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='cocoapods'>CocoaPods</h2>

<p><a href="http://cocoapods.org">CocoaPods</a> is a dependency manager for Cocoa projects. You can install it with the following command:</p>
<pre class="highlight shell"><code><span class="gp">$ </span>gem install cocoapods
</code></pre>

<blockquote>
<p>CocoaPods 0.39.0+ is required to build PrediKit</p>
</blockquote>

<p>To integrate PrediKit through Cocoapods, make sure the <code>use_frameworks!</code> line is included in your Podfile (PrediKit is written in Swift so it needs to be brought in as a framework). Make sure these lines are somewhere in your <code>Podfile</code>:</p>
<pre class="highlight ruby"><code><span class="n">use_frameworks!</span>
<span class="n">pod</span> <span class="s1">'PrediKit'</span>
</code></pre>

<p>Then, run the following command:</p>
<pre class="highlight shell"><code><span class="gp">$ </span>pod install
</code></pre>

<p>Afterwards, whenever you need PrediKit, add this line to the top of the file it&rsquo;s being used in:</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">PrediKit</span>
</code></pre>
<a href='#carthage' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='carthage'>Carthage</h2>

<p><a href="https://github.com/Carthage/Carthage">Carthage</a> is a decentralized dependency manager that builds your dependencies and provides you with binary frameworks.</p>

<p>You can install Carthage with <a href="http://brew.sh/">Homebrew</a> using the following command:</p>
<pre class="highlight shell"><code><span class="gp">$ </span>brew update
<span class="gp">$ </span>brew install carthage
</code></pre>

<p>To integrate PrediKit into your Xcode project using Carthage, specify it in your <code>Cartfile</code>:</p>
<pre class="highlight plaintext"><code>github "TheKrakenDev/PrediKit"
</code></pre>

<p>Run <code>carthage update</code> to build the framework and drag the built <code>PrediKit.framework</code> into your Xcode project.</p>

<p>Afterwards, whenever you need PrediKit, add this line to the top of the file it&rsquo;s being used in:</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">PrediKit</span>
</code></pre>
<a href='#manually' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='manually'>Manually</h2>

<p>If you prefer not to use either of the aforementioned dependency managers, you can integrate PrediKit into your project manually. I specifically kept all of the code for PrediKit in one file in order to support you peeps who like to integrate manually.</p>

<p>First, click on the Sources folder link, right click on <code>PrediKit.swift</code> and click <code>Save Link As</code>. Save the file wherever you&rsquo;d like and drag the downloaded file into your project. That&rsquo;s it! One and done, folks!</p>
<a href='#usage' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='usage'>Usage</h1>

<p>PrediKit tries to make <code>NSPredicate</code> creation easy. <strong>Heavily</strong> inspired by <a href="https://github.com/SnapKit/SnapKit">SnapKit&rsquo;s</a> API, the API for PrediKit is extremely similar for people who love it as much as I do. Check it out. This example creates a predicate used to fetch a <code>ManagedObject</code> from <code>CoreData</code>:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">predicate</span> <span class="o">=</span> <span class="kt">NSPredicate</span><span class="p">(</span><span class="kt">ManagedLegend</span><span class="o">.</span><span class="k">self</span><span class="p">)</span> <span class="p">{</span> <span class="n">includeIf</span> <span class="k">in</span>
    <span class="n">includeIf</span><span class="o">.</span><span class="nf">string</span><span class="p">(</span><span class="s">"title"</span><span class="p">)</span><span class="o">.</span><span class="nf">equals</span><span class="p">(</span><span class="s">"The Almighty Kraken"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>To check if a property is nil:
<code>swift
let predicate = NSPredicate(ManagedLegend.self) { includeIf in
    includeIf.string(&quot;title&quot;).equalsNil
}
</code></p>

<p>PrediKit also overloads the <code>&amp;&amp;</code>, <code>||</code>, and <code>!</code> operators. This allows you compound and specify whether or <code>not</code> to include your <code>includers</code> (Crappy name, I know. Feel free to give me suggestions).</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">predicate</span> <span class="o">=</span> <span class="kt">NSPredicate</span><span class="p">(</span><span class="kt">ManagedLegend</span><span class="o">.</span><span class="k">self</span><span class="p">)</span> <span class="p">{</span> <span class="n">includeIf</span> <span class="k">in</span>
    <span class="c1">//Include any ManagedLegend instance if the property named "string" is NOT nil and does NOT equal "The Almighty Kraken" </span>
    <span class="o">!</span><span class="n">includeIf</span><span class="o">.</span><span class="nf">string</span><span class="p">(</span><span class="s">"title"</span><span class="p">)</span><span class="o">.</span><span class="n">equalsNil</span> <span class="o">&amp;&amp;</span>
    <span class="o">!</span><span class="n">includeIf</span><span class="o">.</span><span class="nf">string</span><span class="p">(</span><span class="s">"title"</span><span class="p">)</span><span class="o">.</span><span class="nf">equals</span><span class="p">(</span><span class="s">"The Almighty Kraken"</span><span class="p">)</span> <span class="o">&amp;&amp;</span>

    <span class="c1">//Also include any ManagedLegend instance if the date property named "birthdate" is in the past or if the bool property "isAwesome" is true. </span>
    <span class="n">includeIf</span><span class="o">.</span><span class="nf">date</span><span class="p">(</span><span class="s">"birthdate"</span><span class="p">)</span><span class="o">.</span><span class="nf">isEarlierThan</span><span class="p">(</span><span class="kt">NSDate</span><span class="p">())</span> <span class="o">||</span>
    <span class="n">includeIf</span><span class="o">.</span><span class="nf">bool</span><span class="p">(</span><span class="s">"isAwesome"</span><span class="p">)</span><span class="o">.</span><span class="n">isTrue</span>
<span class="p">}</span>
</code></pre>

<p>You can even create <code>includers</code> conditionally!</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">predicate</span> <span class="o">=</span> <span class="kt">NSPredicate</span><span class="p">(</span><span class="kt">ManagedLegend</span><span class="o">.</span><span class="k">self</span><span class="p">)</span> <span class="p">{</span> <span class="n">includeIf</span> <span class="k">in</span>
    <span class="k">let</span> <span class="nv">isKrakenQuery</span> <span class="o">=</span> <span class="n">includeIf</span><span class="o">.</span><span class="nf">string</span><span class="p">(</span><span class="s">"title"</span><span class="p">)</span><span class="o">.</span><span class="nf">equals</span><span class="p">(</span><span class="s">"The Almighty Kraken"</span><span class="p">)</span>
    <span class="k">let</span> <span class="nv">birthdateQuery</span> <span class="o">=</span> <span class="n">includeIf</span><span class="o">.</span><span class="nf">date</span><span class="p">(</span><span class="s">"birthdate"</span><span class="p">)</span><span class="o">.</span><span class="nf">isEarlierThan</span><span class="p">(</span><span class="kt">NSDate</span><span class="p">())</span>
    <span class="k">let</span> <span class="nv">isAwesomeQuery</span> <span class="o">=</span> <span class="n">includeIf</span><span class="o">.</span><span class="nf">bool</span><span class="p">(</span><span class="s">"isAwesome"</span><span class="p">)</span><span class="o">.</span><span class="n">isTrue</span>

    <span class="k">if</span> <span class="n">shouldCheckBirthdate</span> <span class="p">{</span>
        <span class="p">(</span><span class="n">isKrakenQuery</span> <span class="o">&amp;&amp;</span> <span class="n">birthdateQuery</span><span class="p">)</span> <span class="o">||</span> <span class="n">isAwesomeQuery</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">isKrakenQuery</span> <span class="o">||</span> <span class="n">isAwesomeQuery</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>I don&rsquo;t know about y&#39;all, but the <code>SQL</code>-like <code>IN</code> operator was hard to wrap my head around. PrediKit makes this a little more human-readable:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">awesomePeeps</span> <span class="o">=</span> <span class="p">[</span><span class="s">"Kraken"</span><span class="p">,</span> <span class="s">"Cthulhu"</span><span class="p">,</span> <span class="s">"Voldemort"</span><span class="p">,</span> <span class="s">"Ember"</span><span class="p">,</span> <span class="s">"Umber"</span><span class="p">,</span> <span class="s">"Voldemort"</span><span class="p">]</span>
<span class="k">let</span> <span class="nv">predicate</span> <span class="o">=</span> <span class="kt">NSPredicate</span><span class="p">(</span><span class="kt">ManagedLegend</span><span class="o">.</span><span class="k">self</span><span class="p">)</span> <span class="p">{</span> <span class="n">includeIf</span> <span class="k">in</span>
    <span class="n">includeIf</span><span class="o">.</span><span class="nf">string</span><span class="p">(</span><span class="s">"title"</span><span class="p">)</span><span class="o">.</span><span class="nf">matchesAnyValueIn</span><span class="p">(</span><span class="n">awesomePeeps</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>PrediKit also has built-in support for subquery predicates:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">predicate</span> <span class="o">=</span> <span class="kt">NSPredicate</span><span class="p">(</span><span class="kt">ManagedLegend</span><span class="o">.</span><span class="k">self</span><span class="p">)</span> <span class="p">{</span> <span class="n">includeIf</span> <span class="k">in</span>
    <span class="n">includeIf</span><span class="o">.</span><span class="nf">string</span><span class="p">(</span><span class="s">"title"</span><span class="p">)</span><span class="o">.</span><span class="nf">equals</span><span class="p">(</span><span class="s">"The Almighty Kraken"</span><span class="p">)</span> <span class="o">&amp;&amp;</span>

    <span class="c1">//Only include Krakens that have more than three hungry cerberus friends</span>
    <span class="n">includeIf</span><span class="o">.</span><span class="nf">collection</span><span class="p">(</span><span class="s">"cerberusFriends"</span><span class="p">)</span><span class="o">.</span><span class="nf">subquery</span><span class="p">(</span><span class="kt">ManagedCerberus</span><span class="o">.</span><span class="k">self</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$0</span><span class="o">.</span><span class="nf">bool</span><span class="p">(</span><span class="s">"isHungry"</span><span class="p">)</span><span class="o">.</span><span class="n">isTrue</span>
        <span class="k">return</span> <span class="o">.</span><span class="kt">IncludeIfMatched</span><span class="p">(</span><span class="o">.</span><span class="kt">Amount</span><span class="p">(</span><span class="o">.</span><span class="kt">IsGreaterThan</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<a href='#license' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='license'>LICENSE</h1>

<p>PrediKit is licensed under the <code>MIT</code> license. Check out the <code>LICENSE</code> file to learn more.</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2016 <a class="link" href="https://github.com/TheKrakenDev/PrediKit" target="_blank" rel="external">Hector Matos</a>. All rights reserved. (Last updated: 2016-05-17)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy â™ªâ™« v0.6.0</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
